(window.webpackJsonp=window.webpackJsonp||[]).push([[19,37],{406:function(e,t,n){},419:function(e,t,n){"use strict";n(33),n(25),n(29),n(37),n(28),n(38);var r=n(15),o=n(5);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}t.a=o.default.extend({methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},{DefineWorkStatus:function(s){var e;return null!==(e={0:"Отправлен на рассмотрение",1:"Поставлен в очередь",2:"Ждёт осмотра",3:"В процессе выполнения"}[s])&&void 0!==e?e:"Не определён"}})})},422:function(e,t,n){"use strict";n(406)},431:function(e,t,n){},435:function(e,t,n){"use strict";var r=n(9),o=(n(22),n(30),n(5).default.extend({props:{active:{type:Boolean,required:!0},options:{type:Object,required:!1,default:function(){return{duration:750}}}},data:function(){return{Collapse:!1,InChange:!1,InnerHeight:0}},computed:{styleObject:function(){return{height:this.Collapse?"".concat(this.InnerHeight,"px"):"0px",transitionDuration:this.InChange?"".concat(this.options.duration,"ms"):"unset"}}},watch:{active:{handler:function(){this.$nextTick(this.ToggleCollapse)}}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.Collapse=e.active,t.next=3,e.GetInnerHeight();case 3:e.InnerHeight=t.sent;case 4:case"end":return t.stop()}}),t)})))()},updated:function(){var e=this;this.active&&!this.InChange&&this.$nextTick().then(Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetInnerHeight();case 2:e.InnerHeight=t.sent;case 3:case"end":return t.stop()}}),t)}))))},methods:{ToggleCollapse:function(){var e=this;this.$nextTick().then((function(){e.InChange=!0,setTimeout((function(){e.InChange=!1,e.Collapsed()}),e.options.duration),e.Collapse=e.active}))},GetInnerHeight:function(){var e=this.$refs.wrap;return new Promise((function(t){t(e.getBoundingClientRect().height)}))},Collapsed:function(){this.$emit("collapsed",this.active)}}})),c=(n(422),n(21)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"eccheuma_collapse-container",style:e.styleObject},[n("div",{ref:"wrap",staticClass:"eccheuma_collapse-wrap"},[e._t("default")],2)])}),[],!1,null,"1f05ff70",null);t.a=component.exports},446:function(e,t,n){"use strict";n(431)},467:function(e,t,n){},492:function(e,t,n){"use strict";n.r(t);var r=n(15),o=(n(22),n(39),n(46),n(33),n(25),n(29),n(37),n(28),n(38),n(5)),c=n(23),l=n(419),f=n(435);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={init:{scale:[0,1],delay:250,duration:250,easing:"easeInOutCubic"},update:{scale:[1,0],direction:"alternate",duration:500,easing:"easeInOutCubic"},close:{scale:[1,0],duration:250,easing:"easeInOutCubic"}},_=o.default.extend({components:{EccheumaCollapse:f.a,Messages:function(){return n.e(33).then(n.bind(null,555))},NameChange:function(){return n.e(34).then(n.bind(null,580))},IconChange:function(){return n.e(52).then(n.bind(null,581))},WorkRequests:function(){return n.e(53).then(n.bind(null,582))},CommonButton:function(){return n.e(1).then(n.bind(null,436))}},mixins:[l.a],data:function(){return{CurentPreferencesComponent:"Messages",PreferencesArea:[{Component:"Messages",Name:"Сообщения"},{Component:"NameChange",Name:"Изменить Имя"},{Component:"IconChange",Name:"Смена иконки"},{Component:"WorkRequests",Name:"Запросы"}]}},computed:v(v({},Object(c.d)({LoginStatus:function(e){return e.Auth.Auth.LoginStatus},UserProfileArea:function(e){return e.User.State.UserProfileArea},UserState:function(e){return e.User.State.UserState},MessagesCount:function(e){return e.User.Messages.Messages.length},NewMessages:function(e){return e.User.Messages.NewMessagesCount},RequestsQuantity:function(e){return e.User.WorkRequest.RequestQuantity},ActiveRequest:function(e){return e.User.WorkRequest.ActiveRequests}})),{},{ComponentInfo:function(){return{Messages:{Title:"Сообщения",Sub:'Подсказка: Нажмите "Ctrl + Enter" для отправки сообщения.'},NameChange:{Title:"Смена имени пользователя",Sub:'Подсказка: Нажмите "Shift + Enter" для подтверждения.'},IconChange:{Title:"Иконка профиля",Sub:'Подсказка: Нажмите "Shift + Enter" для подтверждения.'},WorkRequests:{Title:"Статус заказа",Sub:"Данная сводка полезна для проверки. В случае чего, пишите в чат через сообщения."}}[this.CurentPreferencesComponent]}}),watch:{"UserState.UserImageID":{handler:function(){this.AnimateUserIcon("update")}},GetRequestsQuantity:{handler:function(){this.$store.dispatch("User/WorkRequest/Set_ActiveRequest")}}},created:function(){this.Set_RequestQuantity(),this.Set_RequestContent(),this.FireBaseGetMessages()},mounted:function(){this.CheckMessages()},methods:v(v({},Object(c.b)({Logout:"Auth/Logout",FireBaseGetMessages:"User/Messages/FireBaseGetMessages",CheckMessages:"User/Messages/CheckMessages",Set_RequestQuantity:"User/WorkRequest/Set_RequestQuantity",Set_RequestContent:"User/WorkRequest/Set_RequestContent"})),{},{AreaToggle:function(e){this.CurentPreferencesComponent=e},AnimateUserIcon:function(e){this.$AnimeJS(v({targets:this.$refs.UserIcon},d[e]))},AnimateContainer:function(e){var t=this;this.$AnimeJS({targets:this.$refs.UserProfileContainer.children,opacity:e?[0,1]:[1,0],duration:500,easing:"easeInOutCubic",complete:function(){switch(e){case!0:t.AnimateUserIcon("init");break;case!1:t.AnimateUserIcon("close")}}})}})}),m=(n(446),n(21)),component=Object(m.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("eccheuma-collapse",{staticClass:"user_profile-collapse",attrs:{active:e.UserProfileArea,options:{duration:500}},on:{collapsed:e.AnimateContainer}},[n("section",{ref:"UserProfileContainer",staticClass:"user_profile-container"},[n("div",{staticClass:"user_profile-info"},[n("section",{staticClass:"user_profile-info-header"},[n("h6",[e._v("Профиль")]),e._v(" "),n("span",[e._v("Информация о балансе и заказе")])]),e._v(" "),n("section",{staticClass:"user_profile-info-body"},[n("i",{ref:"UserIcon",style:"background-image: url("+e.UserState.UserImageID+"); transform: scale(0)"}),e._v(" "),n("span",[e._v(e._s(e.UserState.UserName))])]),e._v(" "),n("section",{staticClass:"user_profile-info-footer"},[n("h6",[e._v("Информация")]),e._v(" "),n("hr"),e._v(" "),n("span",[n("div",[e._v("Баланс: ")]),e._v(" "),n("strong",[e._v(e._s(e.UserState.UserBalance)+" ₽")])]),e._v(" "),n("span",[n("div",[e._v("Сообщений: ")]),e._v(" "),n("strong",[e._v(e._s(e.MessagesCount)+" ( Новых: "+e._s(e.NewMessages)+" )")])]),e._v(" "),e.ActiveRequest.length?[n("span",[n("div",[e._v("Тип заказа:  ")]),e._v(" "),n("strong",[e._v(e._s(e.ActiveRequest[0].Service.Name||"Не указан"))])]),e._v(" "),n("span",[n("div",[e._v("Статус заказа: ")]),e._v(" "),n("strong",[e._v(e._s(e.DefineWorkStatus(e.ActiveRequest[0].Status)))])]),e._v(" "),n("span",[n("div",[e._v("Цена заказа: ")]),e._v(" "),n("strong",[e._v(e._s(e.ActiveRequest[0].Service.Cost||0)+" ₽")])])]:e._e(),e._v(" "),n("span",[n("div",[e._v("Заказов в прогрессе: ")]),e._v(" "),n("strong",[e._v(e._s(e.RequestsQuantity))])])],2)]),e._v(" "),n("div",{staticClass:"user_profile-content"},[n("section",{staticClass:"user_profile-content-header"},[n("h6",[e._v(e._s(e.ComponentInfo.Title))]),e._v(" "),n("span",[n("i",{staticClass:"fas fa-info-circle"}),e._v(" Информация о балансе и заказе")])]),e._v(" "),n("transition",{attrs:{name:"UserProfileComponentTransition",mode:"out-in"}},[n(e.CurentPreferencesComponent,{key:e.CurentPreferencesComponent+"-Key",tag:"component"})],1)],1),e._v(" "),n("div",{staticClass:"user_profile-navigation"},[n("section",{staticClass:"user_profile-navigation-header"},[n("h6",[e._v("Навигация")]),e._v(" "),n("span",[e._v("Выберите нужный пункт меню")])]),e._v(" "),n("section",{staticClass:"user_profile-navigation-body"},[e._l(e.PreferencesArea,(function(t,r){return n("common-button",{key:"navigation-button-"+r,class:{active:e.CurentPreferencesComponent==t.Component},nativeOn:{click:function(n){return e.AreaToggle(t.Component)}}},[e._v("\n\t\t\t\t\t"+e._s(t.Name)+"\n\t\t\t\t")])})),e._v(" "),n("common-button",{on:{click:e.Logout}},[e._v("\n\t\t\t\t\tВыход из аккаунта\n\t\t\t\t")])],2)])])])}),[],!1,null,null,null);t.default=component.exports},516:function(e,t,n){"use strict";n(467)},563:function(e,t,n){"use strict";n.r(t);n(33),n(25),n(29),n(37),n(28),n(38);var r=n(15),o=n(5),c=n(23),l=n(492);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var h=o.default.extend({components:{UserProfile:l.default},validate:function(e){var t=e.store,n=e.query;return t.state.User.State.UserState.UserID===n.uid},mounted:function(){this.ToggleProfileArea()},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.c)({ToggleProfileArea:"User/State/Toggle_UserProfileArea"}))}),v=(n(516),n(21)),component=Object(v.a)(h,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"user-container"},[t("user-profile",{attrs:{status:!0}})],1)}),[],!1,null,"fdc39c62",null);t.default=component.exports}}]);