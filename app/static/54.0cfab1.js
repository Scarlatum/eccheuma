(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{546:function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},551:function(t,e,n){var o=n(546);n(22),n(97),n(98),n(73),n(72),n(29),n(42),n(185),n(186),function(t){if(!t.fastXDM){var e={},n={},r=[],c={};t.fastXDM={_id:0,helperUrl:"https://vk.com/js/api/xdmHelper.js",Server:function(n,filter,o){this.methods=n||{},this.filter=filter,this.options=o||{},this.id=t.fastXDM._id++,this.key=function(){for(var t="",i=0;i<5;i++)t+=Math.ceil(15*Math.random()).toString(16);return t}(),this.frameName="fXD"+this.key,this.server=!0,this.methods["%init%"]=this.methods.__fxdm_i=function(){h((function(e){for(var n in this.methods)if(this.methods[n]instanceof t.fastXDM.Server){var o=this.methods[n];"p"===e.protocol&&e.send(this,e.json.stringify(["%proxy%",[n,o.key]])),this.methods[n]=function(){this.callMethod.apply(this,arguments)}.bind(o)}}),this),t.fastXDM.run(this.id),this.methods.onInit&&this.methods.onInit()},e[this.key]=[y,this]},Client:function(o,r){if(this.methods=o||{},this.options=r||{},this.id=t.fastXDM._id++,this.client=!0,t.fastXDM.run(this.id),0!==window.name.indexOf("fXD"))throw Error("Wrong window.name property.");this.key=window.name.substr(3),this.caller=window.parent,n[this.key]||(n[this.key]={}),this.methods["%proxy%"]=function(t,e){t&&e&&this.caller.frames["fXD"+e]&&(n[this.key][t]={key:e,frame:{contentWindow:this.caller.frames["fXD"+e]}})}.bind(this),e[this.key]=[y,this],t.fastXDM.on("helper",(function(){t.fastXDM.onClientStart(this)}),this),h((function(t){t.send(this,t.json.stringify(["%init%"]));var e=this.methods;setTimeout((function(){e.onInit&&e.onInit()}),0)}),this)},onMessage:function(t){var data=t.data;if(!data)return!1;if("string"!=typeof data&&!(data instanceof String))return!1;var n=data.substr(0,5);if(e[n]){var o=e[n][1];!o||o.filter&&!o.filter(t.origin)||e[n][0](data.substr(6),o,t.origin)}},setJSON:function(t){c.json=t},getJSON:function(t){if(!t)return c.json;h((function(e){t(e.json)}))},getProxyToServer:function(t,e){return n[t]&&n[t][e]},setEnv:function(t){for(var i in t)c[i]=t[i];m()},_q:{},on:function(t,e,n){this._q[t]||(this._q[t]=[]),-1==this._q[t]?e.apply(n):this._q[t].push([e,n])},run:function(t){for(var e=(this._q[t]||[]).length,i=0;i<e;i++)this._q[t][i][0].apply(this._q[t][i][1]);this._q[t]=-1},waitFor:l},t.fastXDM.Server.prototype.start=function(e,n){if(e.contentWindow)this.caller=e.contentWindow,this.frame=e,t.fastXDM.on("helper",(function(){t.fastXDM.onServerStart(this)}),this);else{var o=this;(n=n||0)<50&&setTimeout((function(){o.start.apply(o,[e,n+1])}),100)}},t.fastXDM.Server.prototype.destroy=function(){delete e[this.key]},t.fastXDM.Server.prototype.append=function(t,e,n){var div=document.createElement("DIV");div.innerHTML='<iframe name="'+this.frameName+'" '+(n||"")+"></iframe>";var o=div.firstChild,r=this;return setTimeout((function(){o.frameBorder="0",e&&V(o,e),t.insertBefore(o,t.firstChild),r.start(o)}),0),o},t.fastXDM.Client.prototype.callMethod=t.fastXDM.Server.prototype.callMethod=function(){for(var e=Array.prototype.slice.call(arguments),n=e.shift(),i=0,o=e.length;i<o;i++)if("function"==typeof e[i]){this.funcsCount=(this.funcsCount||0)+1;var r=e[i],c="_func"+this.funcsCount;this.methods[c]=function(){r.apply(this,arguments),delete this.methods[c]},e[i]={_func:this.funcsCount}}else this.options.safe&&(e[i]=d(e[i],!1));l(this,"caller",(function(){t.fastXDM.on(this.id,(function(){h((function(o){var r=this,c=t.fastXDM.getProxyToServer(this.key,n);c&&(r=c,n=e.shift()),o.send(r,o.json.stringify([n,e]))}),this)}),this)}),this)},t.fastXDM.Client.prototype.isUnsafeMethod=t.fastXDM.Server.prototype.isUnsafeMethod=function(t){return~["%proxy%","%init%"].indexOf(t)||this.options.unsafeMethods&&~this.options.unsafeMethods.indexOf(t)},t.JSON&&"object"===o(t.JSON)&&t.JSON.parse&&t.JSON.stringify&&'{"a":[1,2,3]}'===t.JSON.stringify({a:[1,2,3]}).replace(/ /g,"")?c.json={parse:t.JSON.parse,stringify:t.JSON.stringify}:t.fastXDM._needJSON=!0,t.postMessage?(c.protocol="p",c.send=function(t,e){var n=t.frame?t.frame.contentWindow:t.caller;if(n)try{n.postMessage(t.key+":"+e,"*")}catch(o){window.postMessage.call(n,t.key+":"+e,"*")}},t.addEventListener?t.addEventListener("message",t.fastXDM.onMessage,!1):t.attachEvent("onmessage",t.fastXDM.onMessage),t.fastXDM._needJSON?(t.fastXDM._onlyJSON=!0,f()):m()):f()}function l(t,e,n,o,r){t[e]?n.apply(o):(r=r||0)<1e3&&setTimeout((function(){l(t,e,n,o,r+1)}),0)}function f(e){setTimeout((function(){var n=document.createElement("script");n.type="text/javascript",n.src=e||t.fastXDM.helperUrl,l(document,"body",(function(){document.getElementsByTagName("HEAD")[0].appendChild(n)}))}),0)}function d(t,e){var n;switch(o(t)){case"string":n=e?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):t.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");break;case"object":if("[object Array]"===Object.prototype.toString.apply(t)){n=[];for(var i=0,r=t.length;i<r;i++)n[i]=d(t[i],e)}else for(var c in n={},t)Object.hasOwnProperty.call(t,c)&&(n[c]=d(t[c],e));break;default:n=t}return n}function h(t,e){c.loaded?t.apply(e,[c]):r.push([e,t])}function m(){c.loaded=!0;for(var i=0,t=r.length;i<t;i++)r[i][1].apply(r[i][0],[c])}function y(e,n,o){h((function(r){var data=r.json.parse(e),c=data[0];if(c){if("p"===r.protocol&&n.options.sameOrigin&&o!==t.origin&&!n.isUnsafeMethod(c))throw Error("Insecure method call.");data[1]||(data[1]=[]);for(var i=0,l=data[1].length;i<l;i++)if(data[1][i]&&data[1][i]._func){var f=data[1][i]._func;data[1][i]=function(){var t=Array.prototype.slice.call(arguments);t.unshift("_func"+f),n.callMethod.apply(n,t)}}else n.options.safe&&(data[1][i]=d(data[1][i],!0));setTimeout((function(){if(!n.methods[c])throw Error("fastXDM: Method "+c+" is undefined");n.methods[c].apply(n,data[1])}),0)}}))}function V(t,e){for(var i in e)t[i]&&"object"===o(t[i])?V(t[i],e[i]):t[i]=e[i]}}(window),window.VK||(window.VK={}),VK._Rpc=null,VK._v=!1,VK._callbacks={},VK._initQueue=[],VK._inited=!1,VK.init=function(t,e,n){n&&(VK._v=n),VK._inited?VK.isFunc(t)&&t():(VK._inited=!0,parent||e(),window.vk_onConnectionInit=function(){VK.isFunc(t)&&t()},VK.initXDConn());for(var o=["mousemove","keydown"],i=0;i<0;i++)document.addEventListener(o[i],(function(){VK.callMethod("unIdle")}));window.addEventListener("focus",(function(){VK.callMethod("unIdle")})),window.addEventListener("blur",(function(){VK.callMethod("idle")})),window.addEventListener("scroll",(function(){VK.callMethod("unIdle")}))},VK.initXDConn=function(){VK.fxdm=!0,VK._Rpc=new fastXDM.Client({onInit:function(){for(;VK._initQueue.length>0;){var t=VK._initQueue.pop();VK.isFunc(t)&&t()}window.vk_onConnectionInit()},runCallback:function(t){var e;e=t.shift(),VK.isFunc(VK._callbacks[e])&&VK._callbacks[e].apply(VK,t)},getHeight:function(t){var e=function(){var t=document.body.offsetHeight;if(t){if(void 0!==window.getComputedStyle){var e=window.getComputedStyle(document.body,null);t+=parseInt(e.getPropertyValue("margin-top").replace("px","")),t+=parseInt(e.getPropertyValue("margin-bottom").replace("px",""))}else t+=parseInt(document.body.currentStyle.marginTop.replace("px","")),t+=parseInt(document.body.currentStyle.marginBottom.replace("px",""));return t}return document.body.scrollHeight},n=function(){VK._Rpc.callMethod("setHeight",e())};return setInterval(n,1e3),document.addEventListener("click",(function(){setTimeout(n,0)}),!1),document.addEventListener("DOMSubtreeModified",(function(){setTimeout(n,0)})),t(e())}}),VK._Rpc.ApiCall=function(t,e){VK._Rpc.callMethod("ApiCall",t,e)}},VK.callMethod=function(){var t,e=Array.prototype.slice.call(arguments);null!=VK._Rpc?VK.fxdm?VK._Rpc.callMethod.apply(VK._Rpc,e):(VK.isFunc(e[e.length-1])&&(t=e.pop()),VK._Rpc.callMethod(e,t)):(VK._initQueue.push((function(){VK.callMethod.apply(VK,e)})),VK.init())},VK.addCallback=function(t,e){e&&(VK._callbacks[t]=e)},VK.removeCallback=function(t){VK._callbacks[t]&&delete VK._callbacks[t]},VK.isFunc=function(t){return"[object Function]"===Object.prototype.toString.call(t)},VK.params={},VK.loadParams=function(q){if("Object"==typeof q)VK.params=q;else for(var t=q.substr(q.indexOf("?")+1).split("&"),i=t.length;i--;){var e=t[i].split("=");VK.params[e[0]]=decodeURIComponent(e[1])}},VK.addScript=function(t){var e=document.createElement("script");e.type="text/javascript",e.src=t,document.getElementsByTagName("head")[0].appendChild(e)},VK.api=function(){var t,e=Array.prototype.slice.call(arguments);null!=VK._Rpc?(VK.isFunc(e[e.length-1])&&(t=e.pop()),e[1]||(e[1]={}),!e[1].v&&VK._v&&(e[1].v=VK._v),VK._Rpc.ApiCall(e,t)):(VK._initQueue.push((function(){VK.api.apply(VK,e)})),VK.init())},VK.Modules={callbacks:{},loaded:function(t){if(this.callbacks[t])for(var i=this.callbacks[t].length;i--;)VK.isFunc(this.callbacks[t][i])&&this.callbacks[t][i]()},load:function(t,e,path){this.callbacks[t]?this.callbacks[t].push(e):(this.callbacks[t]=[e],null==path&&(path="https://vk.com/js/api/modules/"+t+".js"),VK.addScript(path))}},VK.showPortlet=function(t){VK.callMethod("showPortlet",t)},function(){try{VK._domain||(VK._domain={});var t=document.getElementsByTagName("script"),e=t[t.length-1].src.match(/^https?:\/\/((?:\w+\.)*vk.com)/)[1];e&&(VK._domain.base="https://"+e)}catch(t){}}(),VK.Widgets||(VK.Widgets=function(){var t={},e=["Comments","CommentsBrowse","Recommended","Post","Like","Poll","Group","Auth","Subscribe","ContactUs","Ads","AllowMessagesFromCommunity","CommunityMessages"];VK.xdConnectionCallbacks=[];for(var i=e.length;i--;)!function(e){t[e]=function(){var t=arguments;VK.xdConnectionCallbacks.push((function(){VK._iframeAppWidget=!0,VK.Widgets[e].apply(VK,t)})),VK._openApiAttached||(VK.callMethod("_getAppInfo",(function(data){var t=VK._domain&&VK._domain.base&&VK._domain.base.match(/^(\w+\.)*vk.com$/)?VK._domain.base:"https://vk.com";VK._apiId=data[0],VK._browserHash=data[1],VK.addScript(t+"/js/api/openapi.js?169")})),VK._openApiAttached=!0)}}(e[i]);return t}()),VK.External={showPaymentBox:function(a){VK.callMethod("showPaymentBox",a)},showSettingsBox:function(a){VK.callMethod("showSettingsBox",a)},showInstallBox:function(){VK.callMethod("showInstallBox")},showInviteBox:function(){VK.callMethod("showInviteBox")},resizeWindow:function(b,a){VK.callMethod("resizeWindow",b,a)},scrollWindow:function(b,a){VK.callMethod("scrollWindow",b,a)},setLocation:function(a,b){VK.callMethod("setLocation",a,b)},setTitle:function(a){VK.callMethod("setTitle",a)},showProfilePhotoBox:function(a){VK.callMethod("showProfilePhotoBox",a)},showMerchantPaymentBox:function(a){VK.callMethod("showMerchantPaymentBox",a)}}}}]);