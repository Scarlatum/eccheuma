if(!function(l){if(!l.fastXDM){var n={},o={},i=[],r={};l.fastXDM={_id:0,helperUrl:"https://vk.com/js/api/xdmHelper.js",Server:function(t,e,o){this.methods=t||{},this.filter=e,this.options=o||{},this.id=l.fastXDM._id++,this.key=function(){for(var t="",e=0;e<5;e++)t+=Math.ceil(15*Math.random()).toString(16);return t}(),this.frameName="fXD"+this.key,this.server=!0,this.methods["%init%"]=this.methods.__fxdm_i=function(){p(function(t){for(var e in this.methods)if(this.methods[e]instanceof l.fastXDM.Server){var o=this.methods[e];"p"===t.protocol&&t.send(this,t.json.stringify(["%proxy%",[e,o.key]])),this.methods[e]=function(){this.callMethod.apply(this,arguments)}.bind(o)}},this),l.fastXDM.run(this.id),this.methods.onInit&&this.methods.onInit()},n[this.key]=[d,this]},Client:function(t,e){if(this.methods=t||{},this.options=e||{},this.id=l.fastXDM._id++,this.client=!0,l.fastXDM.run(this.id),0!==window.name.indexOf("fXD"))throw Error("Wrong window.name property.");this.key=window.name.substr(3),this.caller=window.parent,o[this.key]||(o[this.key]={}),this.methods["%proxy%"]=function(t,e){t&&e&&this.caller.frames["fXD"+e]&&(o[this.key][t]={key:e,frame:{contentWindow:this.caller.frames["fXD"+e]}})}.bind(this),n[this.key]=[d,this],l.fastXDM.on("helper",function(){l.fastXDM.onClientStart(this)},this),p(function(t){t.send(this,t.json.stringify(["%init%"]));var e=this.methods;setTimeout(function(){e.onInit&&e.onInit()},0)},this)},onMessage:function(t){var e=t.data;if(!e)return!1;if("string"!=typeof e&&!(e instanceof String))return!1;var o=e.substr(0,5);if(n[o]){var i=n[o][1];!i||i.filter&&!i.filter(t.origin)||n[o][0](e.substr(6),i,t.origin)}},setJSON:function(t){r.json=t},getJSON:function(e){if(!e)return r.json;p(function(t){e(t.json)})},getProxyToServer:function(t,e){return o[t]&&o[t][e]},setEnv:function(t){for(var e in t)r[e]=t[e];a()},_q:{},on:function(t,e,o){this._q[t]||(this._q[t]=[]),-1==this._q[t]?e.apply(o):this._q[t].push([e,o])},run:function(t){for(var e=(this._q[t]||[]).length,o=0;o<e;o++)this._q[t][o][0].apply(this._q[t][o][1]);this._q[t]=-1},waitFor:s},l.fastXDM.Server.prototype.start=function(t,e){if(t.contentWindow)this.caller=t.contentWindow,this.frame=t,l.fastXDM.on("helper",function(){l.fastXDM.onServerStart(this)},this);else{var o=this;(e=e||0)<50&&setTimeout(function(){o.start.apply(o,[t,e+1])},100)}},l.fastXDM.Server.prototype.destroy=function(){delete n[this.key]},l.fastXDM.Server.prototype.append=function(t,e,o){var i=document.createElement("DIV");i.innerHTML='<iframe name="'+this.frameName+'" '+(o||"")+"></iframe>";var n=i.firstChild,r=this;return setTimeout(function(){n.frameBorder="0",e&&function t(e,o){for(var i in o)e[i]&&"object"==typeof e[i]?t(e[i],o[i]):e[i]=o[i]}(n,e),t.insertBefore(n,t.firstChild),r.start(n)},0),n},l.fastXDM.Client.prototype.callMethod=l.fastXDM.Server.prototype.callMethod=function(){for(var i=Array.prototype.slice.call(arguments),n=i.shift(),t=0,e=i.length;t<e;t++)if("function"==typeof i[t]){this.funcsCount=(this.funcsCount||0)+1;var o=i[t],r="_func"+this.funcsCount;this.methods[r]=function(){o.apply(this,arguments),delete this.methods[r]},i[t]={_func:this.funcsCount}}else this.options.safe&&(i[t]=c(i[t],!1));s(this,"caller",function(){l.fastXDM.on(this.id,function(){p(function(t){var e=this,o=l.fastXDM.getProxyToServer(this.key,n);o&&(e=o,n=i.shift()),t.send(e,t.json.stringify([n,i]))},this)},this)},this)},l.fastXDM.Client.prototype.isUnsafeMethod=l.fastXDM.Server.prototype.isUnsafeMethod=function(t){return~["%proxy%","%init%"].indexOf(t)||this.options.unsafeMethods&&~this.options.unsafeMethods.indexOf(t)},l.JSON&&"object"==typeof l.JSON&&l.JSON.parse&&l.JSON.stringify&&'{"a":[1,2,3]}'===l.JSON.stringify({a:[1,2,3]}).replace(/ /g,"")?r.json={parse:l.JSON.parse,stringify:l.JSON.stringify}:l.fastXDM._needJSON=!0,l.postMessage?(r.protocol="p",r.send=function(e,o){var i=e.frame?e.frame.contentWindow:e.caller;if(i)try{i.postMessage(e.key+":"+o,"*")}catch(t){window.postMessage.call(i,e.key+":"+o,"*")}},l.addEventListener?l.addEventListener("message",l.fastXDM.onMessage,!1):l.attachEvent("onmessage",l.fastXDM.onMessage),l.fastXDM._needJSON?(l.fastXDM._onlyJSON=!0,t()):a()):t()}function s(t,e,o,i,n){t[e]?o.apply(i):(n=n||0)<1e3&&setTimeout(function(){s(t,e,o,i,n+1)},0)}function t(e){setTimeout(function(){var t=document.createElement("script");t.type="text/javascript",t.src=e||l.fastXDM.helperUrl,s(document,"body",function(){document.getElementsByTagName("HEAD")[0].appendChild(t)})},0)}function c(t,e){var o;switch(typeof t){case"string":o=e?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):t.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");break;case"object":if("[object Array]"===Object.prototype.toString.apply(t)){o=[];for(var i=0,n=t.length;i<n;i++)o[i]=c(t[i],e)}else for(var r in o={},t)Object.hasOwnProperty.call(t,r)&&(o[r]=c(t[r],e));break;default:o=t}return o}function p(t,e){r.loaded?t.apply(e,[r]):i.push([e,t])}function a(){r.loaded=!0;for(var t=0,e=i.length;t<e;t++)i[t][1].apply(i[t][0],[r])}function d(s,a,d){p(function(t){var e=t.json.parse(s),o=e[0];if(o){if("p"===t.protocol&&a.options.sameOrigin&&d!==l.origin&&!a.isUnsafeMethod(o))throw Error("Insecure method call.");e[1]||(e[1]=[]);for(var i=0,n=e[1].length;i<n;i++)if(e[1][i]&&e[1][i]._func){var r=e[1][i]._func;e[1][i]=function(){var t=Array.prototype.slice.call(arguments);t.unshift("_func"+r),a.callMethod.apply(a,t)}}else a.options.safe&&(e[1][i]=c(e[1][i],!0));setTimeout(function(){if(!a.methods[o])throw Error("fastXDM: Method "+o+" is undefined");a.methods[o].apply(a,e[1])},0)}})}}(window),window.VK||(window.VK={}),VK.MD5||(VK.MD5=function(t){function u(t,e){var o=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(o>>16)<<16|65535&o}function a(t,e,o,i,n,r){return u((s=u(u(e,t),u(i,r)))<<(a=n)|s>>>32-a,o);var s,a}function h(t,e,o,i,n,r,s){return a(e&o|~e&i,t,e,n,r,s)}function f(t,e,o,i,n,r,s){return a(e&i|o&~i,t,e,n,r,s)}function m(t,e,o,i,n,r,s){return a(e^o^i,t,e,n,r,s)}function g(t,e,o,i,n,r,s){return a(o^(e|~i),t,e,n,r,s)}var e;return function(t){for(var e,o="0123456789abcdef",i="",n=0,r=t.length;n<r;n++)e=t.charCodeAt(n),i+=o.charAt(e>>>4&15)+o.charAt(15&e);return i}(function(t){for(var e="",o=0,i=32*t.length;o<i;o+=8)e+=String.fromCharCode(t[o>>5]>>>o%32&255);return e}(function(t,e){var o,i,n,r,s=1732584193,a=-271733879,d=-1732584194,l=271733878;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var c=0,p=t.length;c<p;c+=16)s=h(o=s,i=a,n=d,r=l,t[c+0],7,-680876936),l=h(l,s,a,d,t[c+1],12,-389564586),d=h(d,l,s,a,t[c+2],17,606105819),a=h(a,d,l,s,t[c+3],22,-1044525330),s=h(s,a,d,l,t[c+4],7,-176418897),l=h(l,s,a,d,t[c+5],12,1200080426),d=h(d,l,s,a,t[c+6],17,-1473231341),a=h(a,d,l,s,t[c+7],22,-45705983),s=h(s,a,d,l,t[c+8],7,1770035416),l=h(l,s,a,d,t[c+9],12,-1958414417),d=h(d,l,s,a,t[c+10],17,-42063),a=h(a,d,l,s,t[c+11],22,-1990404162),s=h(s,a,d,l,t[c+12],7,1804603682),l=h(l,s,a,d,t[c+13],12,-40341101),d=h(d,l,s,a,t[c+14],17,-1502002290),a=h(a,d,l,s,t[c+15],22,1236535329),s=f(s,a,d,l,t[c+1],5,-165796510),l=f(l,s,a,d,t[c+6],9,-1069501632),d=f(d,l,s,a,t[c+11],14,643717713),a=f(a,d,l,s,t[c+0],20,-373897302),s=f(s,a,d,l,t[c+5],5,-701558691),l=f(l,s,a,d,t[c+10],9,38016083),d=f(d,l,s,a,t[c+15],14,-660478335),a=f(a,d,l,s,t[c+4],20,-405537848),s=f(s,a,d,l,t[c+9],5,568446438),l=f(l,s,a,d,t[c+14],9,-1019803690),d=f(d,l,s,a,t[c+3],14,-187363961),a=f(a,d,l,s,t[c+8],20,1163531501),s=f(s,a,d,l,t[c+13],5,-1444681467),l=f(l,s,a,d,t[c+2],9,-51403784),d=f(d,l,s,a,t[c+7],14,1735328473),a=f(a,d,l,s,t[c+12],20,-1926607734),s=m(s,a,d,l,t[c+5],4,-378558),l=m(l,s,a,d,t[c+8],11,-2022574463),d=m(d,l,s,a,t[c+11],16,1839030562),a=m(a,d,l,s,t[c+14],23,-35309556),s=m(s,a,d,l,t[c+1],4,-1530992060),l=m(l,s,a,d,t[c+4],11,1272893353),d=m(d,l,s,a,t[c+7],16,-155497632),a=m(a,d,l,s,t[c+10],23,-1094730640),s=m(s,a,d,l,t[c+13],4,681279174),l=m(l,s,a,d,t[c+0],11,-358537222),d=m(d,l,s,a,t[c+3],16,-722521979),a=m(a,d,l,s,t[c+6],23,76029189),s=m(s,a,d,l,t[c+9],4,-640364487),l=m(l,s,a,d,t[c+12],11,-421815835),d=m(d,l,s,a,t[c+15],16,530742520),a=m(a,d,l,s,t[c+2],23,-995338651),s=g(s,a,d,l,t[c+0],6,-198630844),l=g(l,s,a,d,t[c+7],10,1126891415),d=g(d,l,s,a,t[c+14],15,-1416354905),a=g(a,d,l,s,t[c+5],21,-57434055),s=g(s,a,d,l,t[c+12],6,1700485571),l=g(l,s,a,d,t[c+3],10,-1894986606),d=g(d,l,s,a,t[c+10],15,-1051523),a=g(a,d,l,s,t[c+1],21,-2054922799),s=g(s,a,d,l,t[c+8],6,1873313359),l=g(l,s,a,d,t[c+15],10,-30611744),d=g(d,l,s,a,t[c+6],15,-1560198380),a=g(a,d,l,s,t[c+13],21,1309151649),s=g(s,a,d,l,t[c+4],6,-145523070),l=g(l,s,a,d,t[c+11],10,-1120210379),d=g(d,l,s,a,t[c+2],15,718787259),a=g(a,d,l,s,t[c+9],21,-343485551),s=u(s,o),a=u(a,i),d=u(d,n),l=u(l,r);return[s,a,d,l]}(function(t){var e,o,i=Array(t.length>>2);for(e=0,o=i.length;e<o;e++)i[e]=0;for(e=0,o=8*t.length;e<o;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}(e=function(t){for(var e,o,i="",n=-1,r=t.length;++n<r;)e=t.charCodeAt(n),o=n+1<r?t.charCodeAt(n+1):0,55296<=e&&e<=56319&&56320<=o&&o<=57343&&(e=65536+((1023&e)<<10)+(1023&o),n++),e<=127?i+=String.fromCharCode(e):e<=2047?i+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?i+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(i+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return i}(t)),8*e.length)))}),VK.extend=function(t,e,o){for(var i in e)!o&&void 0!==t[i]||(t[i]=e[i]);return t},VK.extend(VK,{_domain:{base:"https://vk.com",login:"https://login.vk.com",main:"https://oauth.vk.com",api:"https://api.vk.com"}},!0),VK.xdConnectionCallbacks)setTimeout(function(){for(var t;t=VK.xdConnectionCallbacks.pop();)t()},0),VK.Widgets&&!VK.Widgets._constructor&&(VK.Widgets=!1);else{function obj2qs(t){if(!t)return"";var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o].toString()||""));return e.length?"?"+e.join("&"):""}VK.extend(VK,{version:1,_apiId:null,_session:null,_userStatus:"unknown",_path:{login:"authorize",proxy:"fxdm_oauth_proxy.html"},_rootId:"vk_api_transport",_nameTransportPath:"",xdReady:!1,access:{FRIENDS:2,PHOTOS:4,AUDIO:8,VIDEO:16,MATCHES:32,QUESTIONS:64,WIKI:128}}),VK.init=function(t){var e,o;if(VK._apiId=null,!t.apiId)throw Error("VK.init() called without an apiId");if(VK._apiId=t.apiId,t.onlyWidgets)return!0;t.nameTransportPath&&""!==t.nameTransportPath&&(VK._nameTransportPath=t.nameTransportPath),(o=document.getElementById(VK._rootId))||((o=document.createElement("div")).id=VK._rootId,(e=document.getElementsByTagName("body")[0]).insertBefore(o,e.childNodes[0])),o.style.position="absolute",o.style.top="-10000px";var i=VK.Cookie.load();i&&(VK.Auth._loadState="loaded",VK.Auth.setSession(i,i?"connected":"unknown"))},VK.Cookie||(VK.Cookie={_domain:null,load:function(){var t,e=document.cookie.match("\\bvk_app_"+VK._apiId+"=([^;]*)\\b");if(e){if("oauth"!=(t=this.decode(e[1])).secret)return!1;t.expire=parseInt(t.expire,10),VK.Cookie._domain="."+window.location.hostname}return t},setRaw:function(t,e,o,i){var n;n="vk_app_"+VK._apiId+"="+t;var r=i?(new Date).getTime()+1e3*i:1e3*e;n+=t&&0===e?"":"; expires="+new Date(r).toGMTString(),n+="; path=/",n+=o?"; domain=."+o:"",document.cookie=n,this._domain=o},set:function(t,e){t?this.setRaw(this.encode(t),t.expire,window.location.hostname,(e||{}).time):this.clear()},clear:function(){this.setRaw("",0,this._domain,0)},encode:function(t){var e,o=[];for(e in t)"user"!=e&&o.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return o.sort(),o.join("&")},decode:function(t){var e,o,i={},n=t.split("&");for(e=0;e<n.length;e++)(o=n[e].split("=",2))&&o[0]&&(i[decodeURIComponent(o[0])]=decodeURIComponent(o[1]));return i}}),VK.Api||(VK.Api={_headId:null,_callbacks:{},ie6_7:function(){return VK.Api.ieTested||(VK.Api.isIE6_7=navigator.userAgent.match(/MSIE [6|7]/i),VK.Api.ieTested=!0),VK.Api.isIE6_7},supportCORS:function(){return"withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest},makeRequest:function(t,e){var o=VK.Api.createRequest("GET",t);return!!o&&(o.onload=function(){var t=o.responseText;if(200===o.status)e(t);else try{console.error("Open api access error",o.response)}catch(t){}},o.onerror=function(){try{console.error("Open api access error")}catch(t){}},o.send(),!0)},createRequest:function(t,e){var o=new XMLHttpRequest;return"withCredentials"in o?(o.open(t,e,!0),o.withCredentials=!0):"undefined"!=typeof XDomainRequest?((o=new XDomainRequest).open(t,e),o.withCredentials=!0):o=null,o},attachScript:function(t){VK.Api._headId||(VK.Api._headId=document.getElementsByTagName("head")[0]);var e=document.createElement("script");e.type="text/javascript",e.setAttribute("encoding","UTF-8"),e.src=t,VK.Api._headId.appendChild(e)},checkMethod:function(t,e,o,i){var n=t.toLowerCase();if("wall.post"!==n)return"messages.allowmessagesfromgroup"!=n||(r="_"+Math.random().toString(16).substr(2),a=VK._domain.base+"/widget_allow_messages_from_community.php?act=allow_box&group_id="+parseInt(e.group_id,10)+"&app_id="+parseInt(VK._apiId,10)+"&method_access="+r,VK.UI.popup({url:a,width:560,height:304}),d=setInterval(function(){VK.UI.active.closed&&(clearInterval(d),e.method_access=r,VK.Api.call(t,e,o,i))},500),!1);var r,s,a,d,l=/(^https?:\/\/)|(^(poll|album|photo|video|doc|audio|page|note)-?\d+_-?\d+)$/,c=[];e.v||(e.v="5.95"),e.attachments=e.attachments||e.attachment||[],"string"==typeof e.attachments&&(e.attachments=e.attachments.split(","));for(var p=0;p<e.attachments.length;p++){var u=e.attachments[p].trim();l.test(u)&&c.push(u)}return e.attachments=c.length?c:"",r="_"+Math.random().toString(16).substr(2),s={act:"wall_post_box",method:n,widget:4,aid:parseInt(VK._apiId,10),text:e.message||"",method_access:r},(s=VK.extend(s,e)).owner_id=parseInt(e.owner_id||0,10),s.publish_date=e.publish_date||"",a=VK._domain.base+"/al_apps.php",a+=obj2qs(s),VK.UI.popup({url:a,width:560,height:304}),d=setInterval(function(){VK.UI.active.closed&&(clearInterval(d),e.method_access=r,VK.Api.call(t,e,o,i))},500),!1},call:function(o,i,n,r){var t,e,s=i||{};if("object"!=typeof s||"function"!=typeof n)return!1;if(i.method_access||i.method_force||VK.Api.checkMethod(o,i,n,r)){if(r=r||0,"loaded"!=VK.Auth._loadState){var a=function(t){t&&t.session&&(VK.Observer.unsubscribe("auth.loginStatus",a),VK.Api.call(o,i,n))};return VK.Observer.subscribe("auth.loginStatus",a),void VK.Auth.getLoginStatus()}if(VK.Api.queryLength(s)<1500&&!VK.Api.ie6_7()){for(var d=!1,l=parseInt(1e7*Math.random(),10);VK.Api._callbacks[l];)l=parseInt(1e7*Math.random(),10);s.callback="VK.Api._callbacks["+l+"]"}else d=!0;VK._session&&VK._session.sid&&(s.access_token=VK._session.sid),t=VK.Cookie.encode(s),e=function(t){if(!t.error||3!=t.error.error_code&&4!=t.error.error_code&&5!=t.error.error_code)n(t);else{if(3<r)return!1;var e=function(t){VK.Observer.unsubscribe("auth.sessionChange",e),delete i.access_token,t.session&&VK.Api.call(o,i,n,r+1)};VK.Observer.subscribe("auth.sessionChange",e),VK.Auth.getLoginStatus()}d||delete VK.Api._callbacks[l]},d?VK.xdReady?VK.XDM.remote.callMethod("apiCall",o,t,e):(VK.Observer.subscribe("xdm.init",function(){VK.XDM.remote.callMethod("apiCall",o,t,e)}),VK.XDM.init()):(VK.Api._callbacks[l]=e,VK.Api.attachScript(VK._domain.api+"/method/"+o+"?"+t))}},queryLength:function(t){var e,o=100;for(e in t)o+=e.length+encodeURIComponent(t[e]).length+1;return o}},VK.api=function(t,e,o){VK.Api.call(t,e,o)}),VK.Auth||(VK.Auth={popup:null,lsCb:{},setSession:function(t,e,o,i){var n=!VK._session&&t,r=VK._session&&!t,s=VK._session&&t&&VK._session.mid!=t.mid,a=n||r||VK._session&&t&&VK._session.sid!=t.sid,d=e!=VK._userStatus,l={session:t,status:e,settings:o};return VK._session=t,VK._userStatus=e,VK.Cookie.set(t,i),(a||d||s)&&setTimeout(function(){d&&VK.Observer.publish("auth.statusChange",l),(r||s)&&VK.Observer.publish("auth.logout",l),(n||s)&&VK.Observer.publish("auth.login",l),a&&VK.Observer.publish("auth.sessionChange",l)},0),l},login:function(t,e){if(!VK._apiId)return!1;var o=VK._domain.main+"/"+VK._path.login+"?client_id="+VK._apiId+"&display=popup&redirect_uri=close.html&response_type=token&openapi=1";e&&0<parseInt(e,10)&&(o+="&scope="+e),VK.Observer.unsubscribe("auth.onLogin"),VK.Observer.subscribe("auth.onLogin",t),VK.UI.popup({width:665,height:370,url:o});function i(){VK.Auth.getLoginStatus(function(t){VK.Observer.publish("auth.onLogin",t),VK.Observer.unsubscribe("auth.onLogin")},!0)}VK.UI.popupOpened=!0;var n=function(){if(!VK.UI.popupOpened)return!1;try{if(!VK.UI.active.top||VK.UI.active.closed)return VK.UI.popupOpened=!1,i(),!0}catch(t){return VK.UI.popupOpened=!1,i(),!0}setTimeout(n,100)};setTimeout(n,100)},logout:function(t){VK.Auth.revokeGrants(t)},revokeGrants:function(e){var o=function(t){VK.Observer.unsubscribe("auth.statusChange",o),e&&e(t)};if(VK.Observer.subscribe("auth.statusChange",o),VK._session&&VK._session.sid){var t=VK._domain.login+"?act=openapi&oauth=1&aid="+parseInt(VK._apiId,10)+"&location="+encodeURIComponent(window.location.hostname)+"&do_logout=1&token="+VK._session.sid;if(VK.Api.supportCORS()){VK.Api.makeRequest(t+"&new=1",function(){VK.Auth.setSession(null,"unknown")})}else VK.Api.attachScript(t)}VK.Cookie.clear()},getSession:function(){return VK._session},getLoginStatus:function(cb,force){if(VK._apiId){if(cb){if(!force&&"loaded"==VK.Auth._loadState)return void cb({status:VK._userStatus,session:VK._session});VK.Observer.subscribe("auth.loginStatus",cb)}if(force||"loading"!=VK.Auth._loadState){VK.Auth._loadState="loading";var url=VK._domain.login+"?act=openapi&oauth=1&aid="+parseInt(VK._apiId,10)+"&location="+encodeURIComponent(window.location.hostname);if(VK.Api.supportCORS()){var loginCallback=function(response){if(this.JSON||(this.JSON={}),response="function"!=typeof JSON.parse?eval(response):JSON.parse(response),VK.Auth._loadState="loaded",response&&response.auth){var session={mid:response.user.id,sid:response.access_token,sig:response.sig,secret:response.secret,expire:response.expire};force&&(session.user=response.user);var status="connected"}else{var session=null,status=response.user?"not_authorized":"unknown";VK.Cookie.clear()}VK.Auth.setSession(session,status,!1,response),VK.Observer.publish("auth.loginStatus",{session:session,status:status}),VK.Observer.unsubscribe("auth.loginStatus")};VK.Api.makeRequest(url+"&new=1",loginCallback)}else{for(var rnd=parseInt(1e7*Math.random(),10);VK.Auth.lsCb[rnd];)rnd=parseInt(1e7*Math.random(),10);VK.Auth.lsCb[rnd]=function(t){if(delete VK.Auth.lsCb[rnd],VK.Auth._loadState="loaded",t&&t.auth){var e={mid:t.user.id,sid:t.access_token,sig:t.sig,secret:t.secret,expire:t.expire};force&&(e.user=t.user);var o="connected"}else{e=null,o=t.user?"not_authorized":"unknown";VK.Cookie.clear()}VK.Auth.setSession(e,o,!1,t),VK.Observer.publish("auth.loginStatus",{session:e,status:o}),VK.Observer.unsubscribe("auth.loginStatus")},VK.Api.attachScript(url+"&rnd="+rnd)}}}}}),VK.App||(VK.App={_appOpened:!1,_addToGroupPopup:null,open:function(e,o){!VK.App._appOpened&&VK._apiId&&(VK._session?VK.App._openApp(e,o):VK.Auth.login(function(t){t&&t.session&&VK.App._openApp(e,o)}))},_openApp:function(t,e){var o,i,n=[];if(e=e||{},t&&VK._apiId&&!VK.App._appOpened){if("[object Object]"===Object.prototype.toString.call(e.data))try{e.data=JSON.stringify(e.data)}catch(t){e.data=""}for(var r in o=VK._domain.base+"/apps?act=open_external_app_openapi&aid="+VK._apiId,e.aid=VK._apiId,e){var s="";e.hasOwnProperty(r)&&(void 0!==e[r]&&(s=encodeURIComponent(e[r])),n.push(encodeURIComponent(r)+"="+s))}o+="&url="+t,o+="&q="+encodeURIComponent(n.join("&")),(i=VK.Util.Box(o,{},{closeExternalApp:function(){VK.App._result?(VK.Observer.publish("app.done",VK.App._result),VK.App._result=null):VK.Observer.publish("app.closed"),i.hide(),VK.App._appOpened=!1},externalAppDone:function(t,e){e?VK.App._result=t:(VK.Observer.publish("app.done",t),i.hide(),VK.App._appOpened=!1,VK.App._result=null)}})).show(),VK.App._appOpened=!0,VK.App._result=null}},addToGroup:function(t){this._addToGroupPopup&&!this._addToGroupPopup.closed||(this._onAddToGroupDone&&VK.Util.removeEvent("message",this._onAddToGroupDone,window),this._onAddToGroupDone=function(t){t.origin===VK._domain.base&&"app.addToGroup"===t.data.method&&(VK.Observer.publish("app.addToGroupDone",{app_id:t.data.app_id,group_ids:t.data.group_ids}),VK.Util.removeEvent("message",this._onAddToGroupDone,window),this._onAddToGroupDone=null)}.bind(this),window.postMessage&&VK.Util.addEvent("message",this._onAddToGroupDone,window),this._addToGroupPopup=VK.UI.popup({url:VK._domain.base+"/add_community_app.php?aid="+t,width:560,height:650}))}})}VK.UI||(VK.UI={active:null,_buttons:[],popup:function(t){var e,o=void 0!==window.screenX?window.screenX:window.screenLeft,i=void 0!==window.screenY?window.screenY:window.screenTop,n=void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth,r=void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight-22,s=t.width,a=t.height,d=parseInt(o+(n-s)/2,10),l=parseInt(i+(r-a)/2.5,10);return e="width="+s+",height="+a+",left="+(d=window.screen&&window.screenX&&screen.left&&1e3<screen.left?0:d)+",top="+l,this.active=window.open(t.url,"vk_openapi",e),this.active},button:function(t,e){var o;"string"==typeof t&&(t=document.getElementById(t)),this._buttons.push(t),index=this._buttons.length-1,o='<table cellspacing="0" cellpadding="0" id="openapi_UI_'+index+'" onmouseover="VK.UI._change(1, '+index+');" onmouseout="VK.UI._change(0, '+index+');" onmousedown="VK.UI._change(2, '+index+');" onmouseup="VK.UI._change(1, '+index+');" style="cursor: pointer; border: 0px; font-family: tahoma, arial, verdana, sans-serif, Lucida Sans; font-size: 10px;"><tr style="vertical-align: middle"><td><div style="border: 1px solid #3b6798;border-radius: 2px 0px 0px 2px;-moz-border-radius: 2px 0px 0px 2px;-webkit-border-radius: 2px 0px 0px 2px;"><div style="border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 4px 0px 6px;line-height: 13px;">&#1042;&#1086;&#1081;&#1090;&#1080;</div></div></td><td><div style="background: url('+VK._domain.base+'/images/btns.png) 0px -42px no-repeat; width: 21px; height: 21px"></div></td><td><div style="border: 1px solid #3b6798;border-radius: 0px 2px 2px 0px;-moz-border-radius: 0px 2px 2px 0px;-webkit-border-radius: 0px 2px 2px 0px;"><div style="border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 6px 0px 4px;line-height: 13px;">&#1050;&#1086;&#1085;&#1090;&#1072;&#1082;&#1090;&#1077;</div></div></td></tr></table>',t.innerHTML=o,t.style.width=t.childNodes[0].offsetWidth+"px"},_change:function(t,e){for(var o=document.getElementById("openapi_UI_"+e).rows[0],i=[o.cells[0].firstChild.firstChild,o.cells[2].firstChild.firstChild],n=0;n<2;++n){var r=i[n];0===t?(r.style.backgroundColor="#6D8DB1",r.style.borderTopColor="#7E9CBC",r.style.borderLeftColor=r.style.borderRightColor=r.style.borderBottomColor="#5C82AB"):1==t?(r.style.backgroundColor="#7693B6",r.style.borderTopColor="#88A4C4",r.style.borderLeftColor=r.style.borderRightColor=r.style.borderBottomColor="#6088B4"):2==t&&(r.style.backgroundColor="#6688AD",r.style.borderBottomColor="#7495B8",r.style.borderLeftColor=r.style.borderRightColor=r.style.borderTopColor="#51779F")}0===t||2==t?o.cells[2].firstChild.style.backgroundPosition="0px -42px":1==t&&(o.cells[2].firstChild.style.backgroundPosition="0px -63px")}}),VK.XDM||(VK.XDM={remote:null,init:function(){if(this.remote)return!1;var t=VK._domain.api+"/"+VK._path.proxy;this.remote=new fastXDM.Server({onInit:function(){VK.xdReady=!0,VK.Observer.publish("xdm.init")}}),this.remote.append(document.getElementById(VK._rootId),{src:t})},xdHandler:function(code){try{eval("VK."+code)}catch(t){}}}),VK.Observer||(VK.Observer={_subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},publish:function(t){var e,o,i=Array.prototype.slice.call(arguments),n=(t=i.shift(),this._subscribers()[t]);if(n)for(e=0,o=n.length;e<o;e++)null!=n[e]&&n[e].apply(this,i)},subscribe:function(t,e){var o=this._subscribers();if("function"!=typeof e)return!1;o[t]?o[t].push(e):o[t]=[e]},unsubscribe:function(t,e){var o,i,n=this._subscribers()[t];if(!n)return!1;if("function"==typeof e)for(o=0,i=n.length;o<i;o++)n[o]==e&&(n[o]=null);else delete this._subscribers()[t]}}),VK.Widgets||(VK.Widgets={},VK.Widgets.count=0,VK.Widgets.RPC={},VK.Widgets.loading=function(t,e){t.style.background=e?'url("'+VK._domain.base+'/images/upload.gif") center center no-repeat transparent':"none"},VK.Widgets.Comments=function(t,e,o){var i=VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");e=VK.Util.parseOptions(e);document.getElementById(t);function n(){return s.callMethod("mouseUp"),!1}function r(t){s.callMethod("mouseMove",{screenY:t.screenY})}var s,a={limit:e.limit||10,height:e.height||0,mini:void 0===e.mini?"auto":e.mini,norealtime:e.norealtime?1:0};if(e.browse)a.browse=1,a.replies=e.replies||0;else{var d=e.pageUrl||i.url;"/"==d.substr(0,1)&&(d=location.protocol+"//"+location.host+d),VK.extend(a,{page:o||0,status_publish:void 0===e.autoPublish?0:e.autoPublish,attach:void 0===e.attach?"*":e.attach?e.attach:"",url:d,title:e.pageTitle||i.title,description:e.pageDescription||i.description,image:e.pageImage||i.image})}return e.onChange&&(VK.Observer.subscribe("widgets.comments.new_comment",e.onChange),VK.Observer.subscribe("widgets.comments.delete_comment",e.onChange)),VK.Widgets._constructor("widget_comments.php",t,e,a,{showBox:function(t,e){VK.Util.Box(VK.Util.getAbsUrl(t),[],{proxy:s}).show()},startDrag:function(){cursorBack=window.document.body.style.cursor,window.document.body.style.cursor="pointer",VK.Util.addEvent("mousemove",r),VK.Util.addEvent("mouseup",n)},stopDrag:function(){window.document.body.style.cursor=cursorBack,VK.Util.removeEvent("mousemove",r),VK.Util.removeEvent("mouseup",n)}},{startHeight:133,minWidth:300},function(t,e,o){s=o})},VK.Widgets.CommentsBrowse=function(t,e){return(e=VK.Util.parseOptions(e)).browse=1,VK.Widgets.Comments(t,e)},VK.Widgets.Recommended=function(t,e){VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");var o={limit:(e=VK.Util.parseOptions(e)).limit||5,max:e.max||0,sort:e.sort||"friend_likes",verb:e.verb||0,period:e.period||"week",target:e.target||"parent"};return VK.Widgets._constructor("widget_recommended.php",t,e,o,{},{startHeight:116+47*o.limit-15,minWidth:150})},VK.Widgets.Post=function(t,e,o,i,n){n=VK.Util.parseOptions(n);document.getElementById(t);var r,s,a={owner_id:e,post_id:o,hash:i||"",from:n?n.from:""};return VK.Widgets._constructor("widget_post.php",t,n,a,{showBox:function(t,e){VK.Util.Box(VK.Util.getAbsUrl(t),[],{proxy:r}).show()},startDrag:function(){s=window.document.body.style.cursor,window.document.body.style.cursor="pointer"},stopDrag:function(){window.document.body.style.cursor=s}},{startHeight:90,minWidth:250},function(t,e,o){r=o})},VK.Widgets.Like=function(t){if(t)return t;var x=[];return(t=function(t,n,e){var o=VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");var r,i,s,a,d,l,c={18:43,20:47,22:51,24:55,30:67},p="full"==(n=VK.extend(VK.Util.parseOptions(n),{allowTransparency:!0})).type||"button"==n.type||"vertical"==n.type||"mini"==n.type?n.type:"full",u="auto"===n.width&&("button"==p||"mini"==p),h=parseInt(n.height,10)||22,f=h&&c[h]?h:22,m=u?153:"full"==p?Math.max(200,n.width||350):"button"==p?180:"mini"==p?115:c[f],g="vertical"==p?2*h+7:h,_={page:e||0,url:n.pageUrl||o.url,type:p,verb:1==n.verb?1:0,color:n.color||"",title:n.pageTitle||o.title,description:n.pageDescription||o.description,image:n.pageImage||o.image,text:(n.text||"").substr(0,140),h:h},y=n.ttHere||!1,v=!1,b=null;function w(t){if((v||t)&&d&&a&&d&&("none"==a.style.display||"yes"==a.getAttribute("vkhidden"))){b&&clearTimeout(b),l&&clearTimeout(l);var e=n.getScrollTop?n.getScrollTop():document.body.scrollTop||document.documentElement.scrollTop||0,o=VK.Util.getXY(r,n.fixed),i=y?0:o[1];e>o[1]-120&&"top"!=n.tooltipPos||"vertical"==p||"bottom"==n.tooltipPos?(a.style.top=i+g+2+"px",d.callMethod("show",!1,p+"_"+f)):(a.style.top=i-128+"px",d.callMethod("show",!0,p+"_"+f)),VK.Util.ss(a,{left:(y?0:o[0])-("full"==p||"button"==p?32:2)+"px",display:"block",opacity:1,filter:"none"}),a.setAttribute("vkhidden","no"),v=!0}}function K(t){v&&!t||!d||(d.callMethod("hide"),s.callMethod("hide"),b=setTimeout(function(){a.style.display="none"},400))}"vertical"!=p&&"button"!=p&&"mini"!=p||delete n.width,u&&(_.auto_width=1);var V=VK.Widgets._constructor("widget_like.php",t,n,_,{initTooltip:function(t){d=new fastXDM.Server({onInit:t?function(){w()}:function(){},proxy:s,showBox:function(t,e){VK.Util.Box(VK.Util.getAbsUrl(t),[e.width,e.height],{proxy:d}).show()}},!1,{safe:!0}),(a=d.append(y?r:document.body,{src:i.src+"&act=a_like_tooltip",scrolling:"no",allowTransparency:!0,id:i.id+"_tt",style:{position:"absolute",padding:0,display:"none",opacity:.01,filter:"alpha(opacity=1)",border:"0",width:"274px",height:"130px",zIndex:5e3,overflow:"hidden"}})).setAttribute("vkhidden","yes"),a.onmouseover=function(){clearTimeout(l),v=!0},a.onmouseout=function(){clearTimeout(l),v=!1,l=setTimeout(function(){K()},200)}},showTooltip:w,hideTooltip:K,destroy:function(){s.destroy();try{i.src="about: blank;"}catch(t){}if(i.parentNode.removeChild(i),a){try{a.src="about: blank;"}catch(t){}a.parentNode.removeChild(a)}d&&d.destroy()},showBox:function(t,e){VK.Util.Box(VK.Util.getAbsUrl(t),[],{proxy:s}).show()},proxy:function(){d&&d.callMethod.apply(d,arguments)}},{startHeight:g,minWidth:m},function(t,e,o){s=o,VK.Util.ss(r=t,{height:g+"px",width:m+"px",position:"relative",clear:"both"}),VK.Util.ss(i=e,{height:g+"px",width:m+"px",overflow:"hidden",zIndex:150}),r.onmouseover=function(){clearTimeout(l),v=!0},r.onmouseout=function(){clearTimeout(l),v=!1,l=setTimeout(function(){K()},200)}});return x.push(V),V}).destroyAll=function(){for(var t=null;x[0];)(t=VK.Widgets.RPC[x.pop()])&&t.methods.destroy()},t}(VK.Widgets.Like),VK.Widgets.Poll=function(t,e,o){var i=VK.Util.getPageData();if(!o)throw Error("No poll id passed");var n,r={poll_id:o,url:(e=VK.Util.parseOptions(e)).pageUrl||i.url||location.href,title:e.pageTitle||i.title,description:e.pageDescription||i.description};return e.preview&&(r.is_preview=1,delete e.preview),void 0!==e.share&&(r.share=e.share?1:0),VK.Widgets._constructor("al_widget_poll.php",t,e,r,{showBox:function(t,e){VK.Util.Box(VK.Util.getAbsUrl(t),[],{proxy:n}).show()}},{startHeight:144,minWidth:300},function(t,e,o){n=o})},VK.Widgets.App=function(t,e,o){if(!e)throw Error("No app id passed");o=VK.Util.parseOptions(o);var i,n=void 0,r=void 0,s={aid:e,mode:parseInt(o.mode,10)||1};switch(s.mode){case 1:o.width=144,n=251;break;case 2:o.width=o.width?Math.max(200,Math.min(1e4,parseInt(o.width,10))):200,r=n=193;break;case 3:o.width=o.width?Math.max(50,Math.min(1e4,parseInt(o.width,10))):void 0,r=n=o.height={18:18,20:20,22:22,24:24,30:30}[parseInt(o.height,10)||30]}return i=o.width,VK.Widgets._constructor("widget_app.php",t,o,s,{},{startHeight:n,height:r,minWidth:i})},VK.Widgets.Community=VK.Widgets.Group=function(t,e,o){if(e=VK.Util.parseOptions(e),!(o=parseInt(o,10)))throw Error("No group_id passed");e.mode=parseInt(e.mode,10).toString();var i,n,r={gid:o,mode:e.mode?e.mode:"0"},s=3==e.mode?185:1==e.mode?141:0|e.height||290;function a(){return i.callMethod("mouseUp"),!1}function d(t){return i.callMethod("mouseMove",{screenY:t.screenY}),!1}return e.wall&&(r.wall=e.wall),r.color1=e.color1||"",r.color2=e.color2||"",r.color3=e.color3||"",r.class_name=e.class_name||"",e.no_head&&(r.no_head=1),e.no_cover&&(r.no_cover=1),e.wide&&(r.wide=1,(!e.width||e.width<300)&&(e.width=300)),0|!e.width&&(e.width=200),VK.Widgets._constructor("widget_community.php",t,e,r,{showBox:function(t,e){VK.Util.Box(VK.Util.getAbsUrl(t),[],{proxy:i}).show()},startDrag:function(){n=window.document.body.style.cursor,window.document.body.style.cursor="pointer",VK.Util.addEvent("mousemove",d),VK.Util.addEvent("mouseup",a)},stopDrag:function(){window.document.body.style.cursor=n,VK.Util.removeEvent("mousemove",d),VK.Util.removeEvent("mouseup",a)},auth:function(){VK.Auth.login(null,1)}},{minWidth:120,startHeight:s},function(t,e,o){i=o})},VK.Widgets.Auth=function(t,n){VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");return(n=VK.Util.parseOptions(n)).width||(n.width=200),type=n.type?1:0,VK.Widgets._constructor("widget_auth.php",t,n,{},{makeAuth:function(t){if(t.session&&(VK.Auth._loadState="loaded",VK.Auth.setSession(t.session,"connected"),VK.Observer.publish("auth.loginStatus",{session:t.session,status:"connected"}),VK.Observer.unsubscribe("auth.loginStatus")),n.onAuth)n.onAuth(t);else{if(n.authUrl)var e=n.authUrl;else e=window.location.href;-1==e.indexOf("?")?e+="?":e+="&";var o=[];for(var i in t)"session"!=i&&o.push(i+"="+decodeURIComponent(t[i]).replace(/&/g,"%26").replace(/\#/g,"%23").replace(/\?/,"%3F"));window.location.href=e+o.join("&")}}},{startHeight:134})},VK.Widgets.Subscribe=function(t,e,o){if(!(o=parseInt(o,10)))throw Error("No owner_id passed");var i,n={oid:o};return(e=VK.Util.parseOptions(e)).mode&&(n.mode=e.mode),e.soft&&(n.soft=e.soft),VK.Widgets._constructor("widget_subscribe.php",t,e,n,{showBox:function(t,e){VK.Util.Box(VK.Util.getAbsUrl(t),[],{proxy:i}).show()},auth:function(){VK.Auth.login(null,1)}},{minWidth:220,startHeight:22},function(t,e,o){i=o})},VK.Widgets.ContactUs=function(t,e,o){if(!(o=parseInt(o,10)))throw Error("No group or user id passed");e=VK.Util.parseOptions(e);var i={oid:o,height:{18:18,20:20,22:22,24:24,30:30}[parseInt(e.height,10)||24],text:(e.text||"").substr(0,140)};return VK.Widgets._constructor("widget_contactus.php",t,e,i,{},{startHeight:i.height,height:i.height},function(t,e,o){0})},VK.Widgets.Bookmarks=function(t,e){e=VK.Util.parseOptions(e);var o={height:{18:18,20:20,22:22,24:24,30:30}[parseInt(e.height,10)||30],url:e.url||window.location.href};return VK.Widgets._constructor("widget_bookmarks.php",t,e,o,{},{startHeight:o.height,height:o.height},function(t,e,o){0})},VK.Widgets.Playlist=function(t,e,o,i,n){var r,s={oid:parseInt(e,10),pid:parseInt(o,10),hash:i||""};if(!s.oid)throw Error("No owner id passed");if(!s.pid)throw Error("No playlist id passed");return n=VK.Util.parseOptions(n),VK.Widgets._constructor("widget_playlist.php",t,n,s,{showBox:function(t,e){VK.Util.Box(VK.Util.getAbsUrl(t),[],{proxy:r}).show()}},{minWidth:200},function(t,e,o){r=o})},VK.Widgets.Ads=function(t,o,e){o=VK.Util.parseOptions(o),e=e||{};var r,i={},n={},s={},a=document.getElementById(t),d={},l={},c={};for(var p in e){var u=-1!=function(t,e,o){for(var i=o||0,n=(t||[]).length;i<n;i++)if(t[i]==e)return i;return-1}(["hash"],p)?p:"ads_"+p;d[u]=e[p]}if(a&&a.getBoundingClientRect){a.style.width="100%",a.style.height="100%";var h=a.getBoundingClientRect();a.style.width="",a.style.height="",d.ads_ad_unit_width_auto=Math.floor(h.right-h.left),d.ads_ad_unit_height_auto=Math.floor(h.bottom-h.top)}return c.ads_ad_unit_width=100,c.ads_ad_unit_height=100,l.ads_ad_unit_width=parseInt(d.ads_ad_unit_width)||"auto"===d.ads_ad_unit_width&&d.ads_ad_unit_width_auto||c.ads_ad_unit_width,l.ads_ad_unit_height=parseInt(d.ads_ad_unit_height)||"auto"===d.ads_ad_unit_height&&d.ads_ad_unit_height_auto||c.ads_ad_unit_height,d.ads_handler&&(l.ads_handler=d.ads_handler),d.ads_handler_empty_html&&(l.ads_handler_empty_html=d.ads_handler_empty_html),delete d.ads_handler,delete d.ads_handler_empty_html,i.act="ads_web",i.url=location.href,VK.extend(i,d),o.noDefaultParams=!0,o.width=l.ads_ad_unit_width,o.allowTransparency=!0,n.startHeight=l.ads_ad_unit_height,n.minWidth=l.ads_ad_unit_width,s.adsOnInit=function(t,e){VK.Widgets.loading(a,!1),function(t){if(!t)return;for(var e in t){var o=t[e];"ads_ad_unit_width"===e||"ads_ad_unit_height"===e?e in d||(l[e]=parseInt(o)||"auto"===o&&d[e+"_auto"]||c[e]):e in l||(l[e]=o)}}(e),o.onAdsReady&&o.onAdsReady.apply(o.onAdsReady,Array.prototype.slice.call(arguments));!function(t){var e=function(t){var e=!1;try{if(!t)return!1;var o=!1;if(d(t))o=t;else if(function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)){var i=t.split(".");o=window;for(var n=0,r=i.length;n<r&&(o=o[i[n]]);n++);if(!o){"function"===t.substr(0,8)&&(t="return "+t+";");var s=new Function(t)();d(s)?o=s:e=s}}if(o){var a=Array.prototype.slice.call(arguments,1);e=o.apply(o,a)}}catch(t){try{console.error(t)}catch(t){}}return e;function d(t){return"[object Function]"===Object.prototype.toString.call(t)}}(l.ads_handler,t);if(t<=0&&!0!==e){try{console.log("VK: ad_unit_id = "+d.ads_ad_unit_id,", errorCode = ",t)}catch(t){}!function(t,e,o){if(!t)return;if(!a)return;e=e?e+"px":"",o=o?o+"px":"";var i='<html><head></head><body style="padding: 0; margin: 0;"><div>'+t+"</div></body></html>",n=document.createElement("iframe");n.onload=function(){if(!o)try{var t=n.contentWindow.document.body.firstChild.getBoundingClientRect(),e=Math.ceil(t.bottom-t.top);e&&(n.style.height=e,a.style.height=e)}catch(t){}},n.id=(r?r.id:"vkwidget-"+Math.round(1e6*Math.random()))+"_ads_html_handler",n.src="about:blank",n.width="100%",n.height="100%",n.scrolling="no",n.frameBorder="0",n.allowTransparency=!0,n.style.overflow="hidden",n.style.width=e,n.style.height=o,a.style.width=e,a.style.height=o,a.appendChild(n),n.contentWindow.vk_ads_html_handler=i,n.src='javascript:window["vk_ads_html_handler"]'}(l.ads_handler_empty_html,l.ads_ad_unit_width,l.ads_ad_unit_height)}}(t)},s.newAdsOnInitLoader=function(t){!function(t){if("vk__adsLight"in window)window.vk__adsLight&&vk__adsLight.userHandlers&&vk__adsLight.userHandlers.onInit&&vk__adsLight.userHandlers.onInit(!1);else{window.vk__adsLight=!1;var e=VK.Api&&VK.Api.attachScript||VK.addScript;if(Array.isArray(t))t.forEach(function(t){e(VK._domain.base+t)});else{var o=parseInt(t);e(VK._domain.base+jsc("/web/ads_light.js?")+o)}}}(JSON.parse(t.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")))},VK.Widgets._constructor("ads_rotate.php",t,o,i,s,n,function(t,e,o){a=t,r=e,0})},VK.Widgets.AllowMessagesFromCommunity=function(t,e,o){if(!(o=parseInt(o,10))||o<0)throw Error("No group id passed");e=VK.Util.parseOptions(e);var i={height:{22:22,24:24,30:30}[parseInt(e.height,10)||24],key:e.key?e.key.substr(0,256):"",group_id:o};return VK.Widgets._constructor("widget_allow_messages_from_community.php",t,e,i,{},{startHeight:i.height,height:i.height},function(t,e,o){0})},VK.Widgets.Article=function(t,e,o){var i,n={url:e};return o=VK.Util.parseOptions(o),VK.Widgets._constructor("widget_article.php",t,o,n,{showBox:function(t){VK.Util.Box(VK.Util.getAbsUrl(t),[],{proxy:i}).show()}},{},function(t,e,o){i=o})},VK.Widgets.Podcast=function(t,e,o,i){var n={episode:e,hash:o};return i=VK.Util.parseOptions(i),VK.Widgets._constructor("widget_podcast.php",t,i,n,{showBox:function(t){VK.Util.Box(VK.Util.getAbsUrl(t),[],{proxy:rpc}).show()}},{minWidth:300,startHeight:150})},VK.Widgets.CommunityMessages=function(K){if(K)return K;var V={},x={},I={no_button:{width:0,height:0},blue_circle:{width:50,height:50,margin:{bottom:20}}},k={left:{bottom:0,left:20},right:{bottom:0,right:20}};return(K=function(s,t,i){(i=VK.Util.parseOptions(i)).width=300,i.height=399,i.expandTimeout=parseInt(i.expandTimeout)||0;var e,o={gid:t};i.expanded=parseInt(i.expanded)||0,(!i.from_dev&&null!=(e="expanded",window.localStorage?localStorage.getItem("vk_community_widget_"+e):null)||i.expanded)&&(i.shown=1),i.shown&&(o.shown=1),i.welcomeScreen||(o.disable_welcome_screen=1),o.ref_source_info=i.ref_source_info,o.ref_source_link=location.href;var a=i.buttonType;-1==Object.keys(I).indexOf(a)&&(a="blue_circle"),"no_button"==a&&(i.disableButtonTooltip=1),i.disableButtonTooltip&&(o.disable_tooltip=1),i.tooltipButtonText&&(o.tooltip_text=i.tooltipButtonText),i.disableNewMessagesSound&&(o.disable_new_messages_sound=1),V[s]&&K.destroy(s),o.domain=document.domain;var n,r,d,l=!(i.no_loading=1),c=0,p=[0,0];_(i.widgetPosition),o.button_position=i.widgetPosition;var u=0,h={};function f(){i.disableTitleChange||(clearTimeout(x.titleTimer),x.oldTitle?document.title=x.oldTitle:null===x.oldTitle&&(document.title=""),x.title="")}function m(){var t=document.getElementById(s),e=t.getElementsByTagName("iframe")[0];t.style.width=e.width="372px",t.style.height=e.height="399px",t.style.margin="0px 0px 0px 0px"}function g(){var t=document.getElementById(s),e=t.getElementsByTagName("iframe")[0],o=I[a],i=o.width+p[0],n=Math.max(o.height,p[1]);t.style.width=i+"px",t.style.height=n+"px",e.style.boxShadow="none";var r=o.margin?o.margin:{};t.style.margin="0px "+(r.right||0)+"px "+(r.bottom||0)+"px 0px",e&&(e.width=i,e.height=n)}function _(t){n=t,-1==Object.keys(k).indexOf(n)&&(n="right"),y(),v("changeButtonPosition",n)}function y(){var t=document.getElementById(s);if(t){var e=["left","right","top","bottom"];for(var o in e)t.style[e[o]]="";var i=k[n];for(var o in i)t.style[o]=i[o]+"px";u&&(c?m:g)()}}function v(){r&&r.callMethod.apply(r,arguments)}function b(t){t&&"[object Object]"===Object.prototype.toString.call(t)||(t={}),null==t.welcomeScreen&&(t.welcomeScreen=i.welcomeScreen),clearTimeout(h.showTimer),v("expand",t)}function w(t){v("setSourceData",VK.extend({link:location.href},t))}return V[s]=VK.Widgets._constructor("widget_community_messages.php",s,i,o,{onStartLoading:function(){var t=document.getElementById(s);t.style.position="fixed",t.style["z-index"]=1e4,y()},onReady:function(){u=1,0<i.expandTimeout&&!i.shown&&(h.showTimer=setTimeout(function(){b({playSong:!i.disableExpandChatSound,noSaveState:1})},i.expandTimeout))},showBox:function(t){if(l)try{l.hide();try{l.iframe.src="about: blank;"}catch(t){}l.iframe.parentNode.removeChild(l.iframe)}catch(t){}(l=VK.Util.Box(VK.Util.getAbsUrl(t),[],{proxy:rpc})).show()},setTooltipSize:function(t){p=t,c||g()},expand:function(t){var e,o;t=t||{},c=1,m(),t.noSaveState||(e="expanded",o=1,window.localStorage&&localStorage.setItem("vk_community_widget_"+e,o))},minimize:function(){setTimeout(function(){var t;c=0,g(),t="expanded",window.localStorage&&localStorage.removeItem("vk_community_widget_"+t)},120)},canNotWrite:function(t){i.onCanNotWrite&&i.onCanNotWrite(t)},destroy:function(){r.destroy();try{d.src="about: blank;"}catch(t){}try{d.parentNode.removeChild(d)}catch(t){}},fatalError:function(t,e){var o={code:t,widget:2,public_id:e};1903==t&&(o.referrer_domain=document.domain);var i=[];for(var n in o)i.push(n+"="+o[n]);K.destroy(s),VK.Util.Box(VK.Util.getAbsUrl("blank.php?"+i.join("&"))).show()},setPageTitle:function(t){i.disableTitleChange||(f(),x.oldTitle=document.title||null,x.title=t,x.changeTitleMode=0,function t(e){clearTimeout(x.titleTimer);x.titleTimer=setTimeout(function(){1==x.changeTitleMode?document.title=x.oldTitle||"":document.title=x.title,x.changeTitleMode=1==x.changeTitleMode?0:1,t()},e?0:1500)}(1))},resetPageTitle:function(){f()},newMessage:function(){!document.hasFocus||document.hasFocus()||i.disableNewMessagesSound||v("playNewMsgSong")}},{},function(t,e,o){r=o,d=e,(i.shown?m:g)()}),VK.Util.addEvent("popstate",w.bind(this,{}),window),VK.Util.addEvent("hashchange",w.bind(this,{}),window),{expand:b,minimize:function(){v("minimize")},destroy:function(){f(),K.destroy(s)},setSourceData:w,changeButtonPosition:_,stopTitleAnimation:f}}).destroy=function(t){if(V[t]){var e=VK.Widgets.RPC[V[t]];e&&e.methods.destroy(),delete V[t]}},K.expand=function(t){console.log(V[t])},K}(VK.Widgets.CommunityMessages),VK.Widgets._constructor=function(t,e,i,o,n,r,s,a,d){var l=document.getElementById(e);if(a=a||++VK.Widgets.count,!l){if(10<(d=d||0))throw Error("VK.Widgets: object #"+e+" not found.");return setTimeout(function(){VK.Widgets._constructor(t,e,i,o,n,r,s,a,d+1)},500),a}r=r||{},n=n||{},(i=i||{}).preview&&(o.preview=1,delete i.preview);var c,p,u,h,f,m,g="auto"===i.width?0|(l.clientWidth||l.offsetWidth||r.minWidth):parseInt(i.width||0,10);"silent_code"===o.act?(g="1px",l.style.opacity=0,l.style.display="none",l.style.position="absolute"):g=g?Math.max(r.minWidth||200,Math.min(r.maxWidth||1e4,g))+"px":"100%",l.style.width=g,i.height?(o.height=i.height,l.style.height=i.height+"px"):l.style.height=(r.startHeight||200)+"px","100%"===g&&(o.startWidth=0|(l.clientWidth||l.offsetWidth)),o.url||(o.url=i.pageUrl||location.href.replace(/#.*$/,"")),c=VK._domain.base+"/"+t,p="",i.noDefaultParams||(p+="&app="+(VK._apiId||"0")+"&width="+encodeURIComponent(g)),p+="&_ver="+VK.version,VK._iframeAppWidget&&(o.iframe_app=1);var _=VK.Util.getPageData();for(m in o.url=o.url||_.url||"",o.referrer=o.referrer||document.referrer||"",o.title=o.title||_.title||document.title||"",o){if("title"==m&&80<o[m].length&&(o[m]=o[m].substr(0,80)+"..."),"description"==m&&160<o[m].length&&(o[m]=o[m].substr(0,160)+"..."),"number"==typeof o[m])u=o[m];else try{u=encodeURIComponent(o[m])}catch(t){u=""}p+="&"+m+"="+u}c+="?"+(p+="&"+(+new Date).toString(16)).substr(1),n.onStartLoading&&n.onStartLoading(),i.no_loading||VK.Widgets.loading(l,!0),n.showLoader=function(t){VK.Util.Loader(t)},n.publish=function(){var t=Array.prototype.slice.call(arguments);t.push(a),VK.Observer.publish.apply(VK.Observer,t)},n.onInit=function(){VK.Widgets.loading(l,!1),n.onReady&&n.onReady(),i.onReady&&i.onReady()},n.resize=function(t,e){l.style.height=t+"px";var o=document.getElementById("vkwidget"+a);o&&(o.style.height=t+"px")},n.resizeWidget=function(t,e){t=parseInt(t),e=parseInt(e);var o=document.getElementById("vkwidget"+a);isFinite(t)&&(l.style.width=t+"px",o&&(o.style.width=t+"px")),isFinite(e)&&(l.style.height=e+"px",o&&(o.style.height=e+"px")),i.onResizeWidget&&i.onResizeWidget()},n.updateVersion=function(t){1<t&&VK.Api.attachScript("//vk.com/js/api/openapi_update.js?"+parseInt(t))},h=VK.Widgets.RPC[a]=new fastXDM.Server(n,function(t){return!t||(t=t.toLowerCase()).match(/(\.|\/)vk\.com($|\/|\?)/)},{safe:!0});var y={overflow:"hidden"};return i.custom_style&&"object"==typeof i.custom_style&&(y=VK.extend(y,i.custom_style)),f=VK.Widgets.RPC[a].append(l,{src:c,width:-1!=g.indexOf("%")?g:parseInt(g)||g,height:r.startHeight||"100%",scrolling:"no",id:"vkwidget"+a,allowTransparency:i.allowTransparency||!1,style:y}),s&&setTimeout(function(){s(l,f||l.firstChild,h)},10),a}),VK.Util||(VK.Util={getPageData:function(){if(!VK._pData){var t,e=document.getElementsByTagName("meta"),o={},i=["description","title","url","image","app_id"];for(var n in e)if(e[n].getAttribute&&e[n].getAttribute&&((t=e[n].getAttribute("name"))||(t=e[n].getAttribute("property"))))for(var r in i)t!=i[r]&&t!="og:"+i[r]&&t!="vk:"+i[r]||(o[i[r]]=e[n].content);o.app_id&&!VK._apiId&&(VK._apiId=o.app_id),o.title=o.title||document.title||"",o.description=o.description||"",o.image=o.image||"",!o.url&&VK._iframeAppWidget&&VK._apiId&&(o.url="/app"+VK._apiId,VK._browserHash&&(o.url+=VK._browserHash));var s=location.href.replace(/#.*$/,"");o.url&&o.url.indexOf(s)||(o.url=s),VK._pData=o}return VK._pData},getStyle:function(t,e){var o,i=document.defaultView||window;if(i.getComputedStyle){e=e.replace(/([A-Z])/g,"-$1").toLowerCase();var n=i.getComputedStyle(t,null);n&&(o=n.getPropertyValue(e))}else if(t.currentStyle){var r=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()});o=t.currentStyle[e]||t.currentStyle[r]}return o},getAbsUrl:function(t){return VK._domain.base+"/"+t.replace(/^\s*\/?/,"")},parseOptions:function(t){return"[object Object]"!==Object.prototype.toString.call(t)&&(t={}),t.base_domain&&(VK._domain.base=t.base_domain),t.login_domain&&(VK._domain.login=t.login_domain),t},getXY:function(t,e){if(t&&void 0!==t){var o=0,i=0;if(void 0!==t.getBoundingClientRect){var n=t.getBoundingClientRect();o=n.left,i=n.top,e=!0}else if(t.offsetParent)for(;o+=t.offsetLeft,i+=t.offsetTop,e&&(o-=t.scrollLeft,i-=t.scrollTop),t=t.offsetParent;);return e&&(i+=window.pageYOffset||window.scrollNode&&scrollNode.scrollTop||document.documentElement.scrollTop,o+=window.pageXOffset||window.scrollNode&&scrollNode.scrollLeft||document.documentElement.scrollLeft),[o,i]}},Loader:function t(e){t.loader||((t.loader=document.createElement("DIV")).innerHTML='<style type="text/css">        @-webkit-keyframes VKWidgetsLoaderKeyframes {0%{opacity: 0.2;}30%{opacity: 1;}100%{opacity: 0.2;}}        @keyframes VKWidgetsLoaderKeyframes {0%{opacity: 0.2;}30%{opacity: 1;}100%{opacity: 0.2;}}        .VKWidgetsLoader div {width: 7px;height: 7px;-webkit-border-radius: 50%;-khtml-border-radius: 50%;-moz-border-radius: 50%;border-radius: 50%;background: #fff;top: 21px;position: absolute;z-index: 2;-o-transition: opacity 350ms linear; transition: opacity 350ms linear;opacity: 0.2;-webkit-animation-duration: 750ms;-o-animation-duration: 750ms;animation-duration: 750ms;-webkit-animation-name: VKWidgetsLoaderKeyframes;-o-animation-name: VKWidgetsLoaderKeyframes;animation-name: VKWidgetsLoaderKeyframes;-webkit-animation-iteration-count: infinite;-o-animation-iteration-count: infinite;animation-iteration-count: infinite;-webkit-transform: translateZ(0);transform: translateZ(0);}</style><div class="VKWidgetsLoader" style="position: fixed;left: 50%;top: 50%;margin: -25px -50px;z-index: 1002;height: 50px;width: 100px;"><div style="left: 36px;-webkit-animation-delay: 0ms;-o-animation-delay: 0ms;animation-delay: 0ms;"></div><div style="left: 47px;-webkit-animation-delay: 180ms;-o-animation-delay: 180ms;animation-delay: 180ms;"></div><div style="left: 58px;-webkit-animation-delay: 360ms;-o-animation-delay: 360ms;animation-delay: 360ms;"></div><span style="display: block;background-color: #000;-webkit-border-radius: 4px;-khtml-border-radius: 4px;-moz-border-radius: 4px;border-radius: 4px;-webkit-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);-moz-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);position: absolute;left: 0;top: 0;bottom: 0; right: 0;z-index: 1;opacity: 0.7;"></span></div>',document.body.insertBefore(t.loader,document.body.firstChild)),t.loader.style.display=e?"block":"none"},Box:function(t,e,o,i){o=o||{};var n=document.body.style.overflow;VK.Util.Loader(!0);var r=/(^|\.)(vk\.com|vkontakte\.ru)$/.test(location.hostname),s=new fastXDM.Server(VK.extend(o,{onInit:function(){a.style.background="transparent",a.style.visibility="visible",document.body.style.overflow="hidden",a.setAttribute("allowfullscreen",1),r&&(document.body.className+=" layers_shown"),VK.Util.Loader()},hide:function(){a.style.display="none"},tempHide:function(){a.style.left="-10000px",a.style.top="-10000px",a.style.width="10px",a.style.height="10px",r&&(document.body.className=document.body.className.replace(/\b\s*?layers_shown\s*\b/," ")),document.body.style.overflow=n},destroy:function(){try{a.src="about: blank;"}catch(t){}a.parentNode.removeChild(a),r&&(document.body.className=document.body.className.replace(/\b\s*?layers_shown\s*\b/," ")),document.body.style.overflow=n},resize:function(t,e){}},!0),!1,{safe:!0}),a=s.append(document.body,{src:t.replace(/&amp;/g,"&"),scrolling:"no",allowTransparency:!0,style:{position:"fixed",left:0,top:0,zIndex:1002,background:VK._domain.base+"/images/upload.gif center center no-repeat transparent",padding:"0",border:"0",width:"100%",height:"100%",overflow:"hidden",visibility:"hidden"}});return{show:function(t,e){a.style.display="block",document.body.style.overflow="hidden"},hide:function(){a.style.display="none",document.body.style.overflow=n},iframe:a,rpc:s}},addEvent:function(t,e,o){(o=o||window.document).addEventListener?o.addEventListener(t,e,!1):o.attachEvent&&o.attachEvent("on"+t,e)},removeEvent:function(t,e,o){(o=o||window.document).removeEventListener?o.removeEventListener(t,e,!1):o.detachEvent&&o.detachEvent("on"+t,e)},ss:function(t,e){VK.extend(t.style,e,!0)}}),VK.Retargeting||(VK.Retargeting={pixelCode:null,Init:function(t){return this.pixelCode=t,this},Event:function(t){if(this.pixelCode){var e=VK.Util.getPageData().url.substr(0,500);(window.Image?new Image:document.createElement("img")).src="https://vk.com/rtrg?p="+this.pixelCode+(t?"&event="+encodeURIComponent(t):"")+(e?"&metatag_url="+encodeURIComponent(e):"")}},Hit:function(){this.Event()},Add:function(t){this.pixelCode&&t&&((window.Image?new Image:document.createElement("img")).src="https://vk.com/rtrg?p="+this.pixelCode+"&audience="+encodeURIComponent(t))},ProductEvent:function(t,e,o,i){if(this.pixelCode&&e&&t){var n=!0;void 0!==(i=i||{}).show_errors&&(n=!!i.show_errors);var r="0";void 0!==i.errors_ignore&&(r=i.errors_ignore?"1":"0");var s=VK.Util.getPageData().url.substr(0,500),a=o?JSON.stringify(o):"",d={p:this.pixelCode,products_event:e,price_list_id:t,e:"1",i:r,metatag_url:s};a&&(d.products_params=a);var l="https://vk.com/rtrg?"+Object.keys(d).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(d[t])}).join("&");VK.Api.makeRequest(l,this.onDone.bind(this,n))}},onDone:function(t,e){if(e&&t){var o;try{o=JSON.parse(e)}catch(t){return}o&&o.errors&&this.showErrors(o.errors)}},showErrors:function(t){if(t||t.length){var e="VK Pixel Error ("+this.pixelCode+"): ";if("string"!=typeof t){var o=t.length;if(o)for(var i=0;i<o;i++)console.error(e+t[i])}else console.error(e+t)}}}),VK.Pixel||(VK.Pixel=function(t){if(this.constructor!=VK.Pixel)throw Error("VK.Pixel was called without 'new' operator");return VK.extend(this,VK.Retargeting),this.pixelCode=t,this}),window.vkAsyncInit&&setTimeout(vkAsyncInit,0),window.vkAsyncInitCallbacks&&vkAsyncInitCallbacks.length&&setTimeout(function(){for(var t;t=vkAsyncInitCallbacks.pop();)try{t()}catch(t){try{console.error(t)}catch(t){}}},0);try{stManager.done("api/openapi.js")}catch(t){}