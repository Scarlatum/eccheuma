<template>
	<header class="header_top-container">

		<section>
			<span>Eccheuma</span>
			<span>Ryova Graphical & Web Design</span>
		</section>

		<svg @click="GoToHoll" width="157" height="20" viewBox="0 0 157 24" :fill="!$isMobile ? `none` : `#333`" xmlns="http://www.w3.org/2000/svg">
			<path ref="HDLP" d="M155.863 6.83612H1.42119C1.57911 5.34985 2.43622 3.9866 3.79416 2.95022C5.30351 1.79828 7.41051 1.07141 9.75835 1.07141H147.526C149.874 1.07141 151.981 1.79828 153.49 2.95022C154.848 3.9866 155.706 5.34985 155.863 6.83612ZM21.1334 9.18906H41.3795C41.3653 10.4959 41.2538 11.794 40.3893 12.8324C39.426 13.9896 37.4018 14.9538 33.0179 14.9538H12.7962C12.9541 13.4675 13.8112 12.1042 15.1692 11.0679C16.6785 9.91593 18.7855 9.18906 21.1334 9.18906ZM155.863 17.3067C155.706 18.793 154.848 20.1562 153.49 21.1926C151.981 22.3445 149.874 23.0714 147.526 23.0714H147.252H146.977H146.703H146.429H146.154H145.88H145.606H145.332H145.058H144.785H144.511H144.237H143.964H143.69H143.417H143.143H142.87H142.597H142.324H142.051H141.778H141.505H141.232H140.959H140.687H140.414H140.141H139.869H139.596H139.324H139.052H138.78H138.508H138.236H137.964H137.692H137.42H137.148H136.876H136.605H136.333H136.062H135.79H135.519H135.248H134.976H134.705H134.434H134.163H133.892H133.621H133.35H133.079H132.809H132.538H132.267H131.997H131.726H131.456H131.186H130.915H130.645H130.375H130.105H129.835H129.565H129.295H129.025H128.755H128.485H128.216H127.946H127.676H127.407H127.137H126.868H126.599H126.329H126.06H125.791H125.522H125.252H124.983H124.714H124.445H124.176H123.908H123.639H123.37H123.101H122.833H122.564H122.296H122.027H121.759H121.49H121.222H120.954H120.685H120.417H120.149H119.881H119.613H119.345H119.077H118.809H118.541H118.273H118.005H117.737H117.47H117.202H116.934H116.667H116.399H116.132H115.864H115.597H115.329H115.062H114.794H114.527H114.26H113.993H113.726H113.458H113.191H112.924H112.657H112.39H112.123H111.856H111.59H111.323H111.056H110.789H110.522H110.256H109.989H109.722H109.456H109.189H108.923H108.656H108.39H108.123H107.857H107.59H107.324H107.058H106.791H106.525H106.259H105.992H105.726H105.46H105.194H104.928H104.662H104.396H104.13H103.864H103.598H103.332H103.066H102.8H102.534H102.268H102.002H101.736H101.47H101.205H100.939H100.673H100.407H100.142H99.8761H99.6104H99.3447H99.0791H98.8135H98.5479H98.2823H98.0167H97.7512H97.4857H97.2202H96.9547H96.6892H96.4237H96.1583H95.8928H95.6274H95.362H95.0966H94.8312H94.5658H94.3005H94.0351H93.7698H93.5045H93.2392H92.9739H92.7086H92.4433H92.178H91.9128H91.6475H91.3823H91.117H90.8518H90.5866H90.3213H90.0561H89.7909H89.5257H89.2605H88.9953H88.7302H88.465H88.1998H87.9346H87.6695H87.4043H87.1392H86.874H86.6088H86.3437H86.0785H85.8134H85.5482H85.2831H85.0179H84.7528H84.4876H84.2225H83.9573H83.6922H83.427H83.1618H82.8967H82.6315H82.3663H82.1012H81.836H81.5708H81.3056H81.0404H80.7752H80.51H80.2448H79.9796H79.7144H79.4491H79.1839H78.9186H78.6534H78.3881H78.1228H77.8576H77.5923H77.327H77.0617H76.7963H76.531H76.2656H76.0003H75.7349H75.4695H75.2041H74.9387H74.6733H74.4079H74.1424H73.8769H73.6114H73.3459H73.0804H72.8149H72.5494H72.2838H72.0182H71.7526H71.487H71.2214H70.9557H70.69H70.4243H70.1586H69.8929H69.6271H69.3614H69.0956H68.8298H68.5639H68.2981H68.0322H67.7663H67.5004H67.2344H66.9684H66.7024H66.4364H66.1704H65.9043H65.6382H65.3721H65.1059H64.8397H64.5735H64.3073H64.041H63.7747H63.5084H63.2421H62.9757H62.7093H62.4429H62.1764H61.9099H61.6434H61.3768H61.1103H60.8436H60.577H60.3103H60.0436H59.7768H59.51H59.2432H58.9764H58.7095H58.4426H58.1756H57.9086H57.6416H57.3745H57.1074H56.8403H56.5731H56.3059H56.0386H55.7713H55.504H55.2366H54.9692H54.7018H54.4343H54.1668H53.8992H53.6316H53.3639H53.0962H52.8285H52.5607H52.2929H52.025H51.7571H51.4891H51.2211H50.9531H50.685H50.4169H50.1487H49.8804H49.6122H49.3438H49.0755H48.8071H48.5386H48.2701H48.0015H47.7329H47.4642H47.1955H46.9268H46.658H46.3891H46.1202H45.8512H45.5822H45.3131H45.044H44.7748H44.5056H44.2363H43.967H43.6976H43.4282H43.1587H42.8891H42.6195H42.3498H42.0801H41.8103H41.5405H41.2706H41.0006H40.7306H40.4606H40.1904H39.9203H39.65H39.3797H39.1093H38.8389H38.5684H38.2979H38.0273H37.7566H37.4859H37.2151H36.9442H36.6733H36.4023H36.1312H35.8601H35.5889H35.3177H35.0464H34.775H34.5035H34.232H33.9605H33.6888H33.4171H33.1453H32.8735H32.6015H32.3296H32.0575H31.7854H31.5132H31.2409H30.9686H30.6962H30.4237H30.1511H29.8785H29.6058H29.333H29.0602H28.7873H28.5143H28.2412H27.9681H27.6949H27.4216H27.1482H26.8748H26.6013H26.3277H26.054H25.7803H25.5064H25.2325H24.9585H24.6845H24.4103H24.1361H23.8618H23.5874H23.313H23.0384H22.7638H22.4891H22.2143H21.9394H21.6645H21.3895H21.1143H20.8391H20.5638H20.2885H20.013H19.7375H19.4619H19.1861H18.9103H18.6345H18.3585H18.0824H17.8063H17.53H17.2537H16.9773H16.7008H16.4242H16.1475H15.8708H15.5939H15.317H15.0399H14.7628H14.4856H14.2082H13.9308H13.6533H13.3757H13.098H12.8203H12.5424H12.2644H11.9863H11.7082H11.4299H11.1516H10.8731H10.5946H10.3159H10.0372H9.75835C7.41051 23.0714 5.30351 22.3445 3.79416 21.1926C2.43622 20.1562 1.57911 18.793 1.42119 17.3067H155.863Z" stroke="#333" stroke-width="1" />
		</svg>

		<button
			v-if="LoginStatus == true" 
			@mouseenter="Notification = false" 
			@click="ToggleProfileArea"> 
		
			<span> Личный кабинет </span>

			<i/>

		</button>

	</header>
</template>

<script lang="ts">

	import Vue from 'vue'

	import { mapState, mapMutations } from 'vuex'

	export default Vue.extend({
		data() {
			return {
				Notification: true
			}
		},
		computed: {
			...mapState({
				isDesktop: 		( state: any ): boolean => state.isDesktop,
				LoginStatus: 	( state: any ): boolean => state.Auth.Auth.LoginStatus,
				NewMessages: 	( state: any ): number 	=> state.User.Messages.NewMessages,
			})
		},
		methods: {
			...mapMutations({
				ToggleProfileArea: 'User/State/Toggle_UserProfileArea'
			}),
			GoToHoll() {
				this.$router.push({ path: `/` })
			},
			AnimateLogo() {

				this.$AnimeJS({
					targets: this.$refs.HDLP,
					strokeDashoffset: [this.$AnimeJS.setDashoffset , 0],
					fill: [
						{ value: '#333', duration: 2500, delay: 1500, endDelay: 5000, }
					],
					delay: 1000,
					duration: 3000,
					easing: 'easeInOutSine',
					direction: 'alternate',
					loop: true
				});

			},
		},
		mounted() {

			if ( !this.$isMobile ) {
				this.AnimateLogo()
			}

		}
	})
</script>

<style lang="scss">

.header_top-container {
	display: grid; height: 8vh;
	padding: 1vh 1vw;
	grid-template-columns: repeat(3, 1fr); 
	background-color: $color1;
	align-items: center;
	section {
		@media screen and ( max-width: $MobileBreakPoint ) {
			display: none;
		}
		span {
			display: block; text-transform: uppercase;
			&:nth-child(1) {
				color: $color5; font-weight: 800; letter-spacing: 3px; font-size: .6rem
			}
			&:nth-child(2) {
				color: $color6; font-weight: 700; letter-spacing: 1px; font-size: .45rem
			}
		}
	}
	svg {
		cursor: pointer;
		grid-column: 2/3;
		transition-duration: .5s;
		margin: auto;
		&:hover {
			transform: scale(.85);
		}
	}
	button {
		@extend %button_black;
		display: grid; padding: 4px 5%; margin: 0 10px;
		grid-template-columns: 3fr 1fr;
		justify-self: end;
		span {
			color: $color4; font-size: 10px; line-height: 15px;
		}
		i {
			$s: 7px;
			height: $s; width: $s;
			justify-self: end;
			align-self: center;
			background-color: $color6;
			border-radius: 100%;
			animation: MessageNotificationSpan 1s infinite alternate;
			@keyframes MessageNotificationSpan {
				0% {
					opacity: 0
				}
				100% {
					opacity: 1;
					box-shadow: 0px 0px 6px 0px $color6;
				}
			}
		}
	}
}

</style>